(function(e){function t(t){for(var c,n,i=t[0],l=t[1],r=t[2],b=0,u=[];b<i.length;b++)n=i[b],Object.prototype.hasOwnProperty.call(o,n)&&o[n]&&u.push(o[n][0]),o[n]=0;for(c in l)Object.prototype.hasOwnProperty.call(l,c)&&(e[c]=l[c]);d&&d(t);while(u.length)u.shift()();return a.push.apply(a,r||[]),s()}function s(){for(var e,t=0;t<a.length;t++){for(var s=a[t],c=!0,i=1;i<s.length;i++){var l=s[i];0!==o[l]&&(c=!1)}c&&(a.splice(t--,1),e=n(n.s=s[0]))}return e}var c={},o={app:0},a=[];function n(t){if(c[t])return c[t].exports;var s=c[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=c,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)n.d(s,c,function(t){return e[t]}.bind(null,c));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/words-against-humanity/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var r=0;r<i.length;r++)t(i[r]);var d=l;a.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"0ac6":function(e,t,s){},"134b":function(e,t,s){"use strict";s("56ae")},"147c":function(e,t,s){"use strict";s("5f6c")},"294c":function(e,t,s){"use strict";s("68ad")},"349b":function(e,t,s){},"39ea":function(e,t,s){"use strict";s("ca32")},"551e":function(e,t,s){},"56ae":function(e,t,s){},"56d7":function(e,t,s){"use strict";s.r(t);var c=s("7a23");function o(e,t,s,o,a,n){const i=Object(c["B"])("router-view");return Object(c["u"])(),Object(c["f"])("div",{id:"theapp",class:"h-100",style:Object(c["q"])({"background-color":e.$store.state.c1})},[(Object(c["u"])(),Object(c["d"])(i,{key:e.$route.fullPath}))],4)}var a={name:"App",components:{},created(){document.querySelector('meta[name="theme-color"]').setAttribute("content",this.$store.state.c1),this.$store.dispatch("set_is_in_game",!1),this.$router.beforeEach((e,t,s)=>{if(this.$store.state.is_in_game){const e=window.confirm("Voulez-vous vraiment quitter cette page ?");e?s():s(!1)}else s()})}},n=(s("294c"),s("6b0d")),i=s.n(n);const l=i()(a,[["render",o]]);var r=l,d=s("6605");const b={class:"container h-100"},u={id:"home-top",class:"row"},h={class:"col d-flex justify-content-center align-items-center"},_={id:"home-body",class:"row"};function j(e,t,s,o,a,n){const i=Object(c["B"])("SelectMode"),l=Object(c["B"])("JoinGame"),r=Object(c["B"])("Game");return Object(c["u"])(),Object(c["f"])("div",b,[Object(c["g"])("div",u,[Object(c["g"])("div",h,[Object(c["g"])("h4",{class:"text-center font-1",style:Object(c["q"])({color:e.$store.state.c4})},"~ Words Against Humanity ~",4)])]),Object(c["g"])("div",_,["select_mode"==a.mode?(Object(c["u"])(),Object(c["d"])(i,{key:0,onMode:n.change_mode,pseudo:a.pseudo,onPseudo:n.change_pseudo},null,8,["onMode","pseudo","onPseudo"])):"join"==a.mode?(Object(c["u"])(),Object(c["d"])(l,{key:1,onConfirm:n.join_game,onMode:n.change_mode,pseudo:a.pseudo},null,8,["onConfirm","onMode","pseudo"])):"game"==a.mode?(Object(c["u"])(),Object(c["d"])(r,{key:2,onMode:n.change_mode,game_code:a.game_code,pseudo:a.pseudo,is_host:a.is_host},null,8,["onMode","game_code","pseudo","is_host"])):Object(c["e"])("",!0)])])}const p={class:"col"},O={class:""},g={class:"form-group row"},m=Object(c["g"])("div",{class:"col-md-4"},null,-1),f={class:"col-md-4"},y=Object(c["g"])("div",{class:"col-md-4"},null,-1),v={class:"row d-flex justify-content-center"},k={class:"col-md-4"};function w(e,t,s,o,a,n){const i=Object(c["B"])("Btn");return Object(c["u"])(),Object(c["f"])("div",p,[Object(c["g"])("div",O,[Object(c["g"])("div",g,[m,Object(c["g"])("div",f,[Object(c["g"])("label",{for:"pseudo",style:Object(c["q"])({color:e.$store.state.c4})},"Votre pseudo",4),Object(c["I"])(Object(c["g"])("input",{type:"text",class:"form-control",id:"pseudo",autocomplete:"off","onUpdate:modelValue":t[0]||(t[0]=e=>a.p=e),onInput:t[1]||(t[1]=e=>n.input_change_pseudo())},null,544),[[c["G"],a.p]])]),y]),Object(c["g"])("div",v,[Object(c["g"])("div",k,[Object(c["i"])(i,{class:"btn-block",c1:e.$store.state.c2,c2:e.$store.state.c4,text:"Rejoindre une partie",cl:"fa-solid fa-right-to-bracket",onClick:t[2]||(t[2]=e=>n.click_change_mode("join"))},null,8,["c1","c2"]),Object(c["i"])(i,{class:"btn-block",c1:e.$store.state.c2,c2:e.$store.state.c4,text:"Créer une partie",cl:"fa-solid fa-plus",onClick:t[3]||(t[3]=e=>n.click_change_mode("game"))},null,8,["c1","c2"])])])])])}const $=["disabled"];function x(e,t,s,o,a,n){return Object(c["u"])(),Object(c["f"])("button",{class:Object(c["p"])(["btn",{"btn-sm":s.is_sm}]),style:Object(c["q"])({"background-color":s.c1,color:s.c2}),disabled:s.is_disabled},[s.cl?(Object(c["u"])(),Object(c["f"])("i",{key:0,class:Object(c["p"])(s.cl)},null,2)):Object(c["e"])("",!0),Object(c["h"])(" "+Object(c["E"])(s.text),1)],14,$)}var q={components:{},props:{text:{type:String,default:""},c1:{type:String,default:"#000000"},c2:{type:String,default:"#FFFFFF"},is_sm:{type:Boolean,default:!1},cl:{type:String,default:""},is_disabled:{type:Boolean,default:!1}},data(){return{}},methods:{},created(){}};const E=i()(q,[["render",x]]);var B=E,S={components:{Btn:B},props:{pseudo:{type:String,default:"Joueur"}},data(){return{p:this.pseudo,MAX_PSEUDO_LENGTH:20}},methods:{click_change_mode(e){let t=this.p.trim();if(!t||t.length>this.MAX_PSEUDO_LENGTH)alert("Pseudo entre 1 et "+this.MAX_PSEUDO_LENGTH+" caractères");else{let s="";const c=8;if("game"==e){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",t=e.length;let o=0;while(o<c)s+=e.charAt(Math.floor(Math.random()*t)),o+=1}let o={mode:e,game_code:s};this.$emit("mode",o),localStorage.setItem("wah_pseudo",t)}},input_change_pseudo(){this.$emit("pseudo",this.p)}}};const C=i()(S,[["render",w]]);var A=C;const L={class:"col"},I={class:""},V={class:"text-center font-italic m-0"},N=Object(c["g"])("strong",null,"Votre pseudo : ",-1),M={class:"form-group row"},P=Object(c["g"])("div",{class:"col-md-4"},null,-1),T={class:"col-md-4"},G=Object(c["g"])("div",{class:"col-md-4"},null,-1),J={class:"row d-flex justify-content-center"},z={class:"col-md-4"};function D(e,t,s,o,a,n){const i=Object(c["B"])("Btn");return Object(c["u"])(),Object(c["f"])("div",L,[Object(c["g"])("div",I,[Object(c["g"])("div",{class:"my-2",style:Object(c["q"])({"background-color":e.$store.state.c3})},[Object(c["g"])("p",V,[N,Object(c["h"])(" "+Object(c["E"])(s.pseudo),1)])],4),Object(c["g"])("div",M,[P,Object(c["g"])("div",T,[Object(c["g"])("label",{for:"game-code",style:Object(c["q"])({color:e.$store.state.c4})},"Code de la partie",4),Object(c["I"])(Object(c["g"])("input",{type:"text",class:"form-control",id:"game-code",autocomplete:"off","onUpdate:modelValue":t[0]||(t[0]=e=>a.code=e)},null,512),[[c["G"],a.code]])]),G]),Object(c["g"])("div",J,[Object(c["g"])("div",z,[Object(c["i"])(i,{class:"btn-block",c1:e.$store.state.c2,c2:e.$store.state.c4,text:"Confirmer",cl:"fa-solid fa-circle-check",onClick:t[1]||(t[1]=e=>n.click_confirm())},null,8,["c1","c2"]),Object(c["i"])(i,{class:"btn-block",c1:e.$store.state.c2,c2:e.$store.state.c4,text:"Accueil",cl:"fa-solid fa-rotate-left",onClick:t[2]||(t[2]=e=>n.go_home())},null,8,["c1","c2"])])])])])}var H={components:{Btn:B},props:{pseudo:{type:String,default:"Joueur"}},data(){return{code:""}},methods:{click_confirm(){let e=this.code.trim();this.code=e,e?this.$emit("confirm",e):alert("Le code ne doit pas être vide")},go_home(){let e={mode:"select_mode"};this.$emit("mode",e)}}};const U=i()(H,[["render",D]]);var R=U;const F=e=>(Object(c["x"])("data-v-71c94420"),e=e(),Object(c["v"])(),e),X={key:0,class:"w-100 d-flex justify-content-center align-items-center"},Q={key:0,class:"d-flex flex-column align-items-center"},W=F(()=>Object(c["g"])("span",{class:"sr-only"},"Loading...",-1)),K=[W],Y=F(()=>Object(c["g"])("i",{class:"fa-solid fa-mug-hot"},null,-1)),Z=Object(c["h"])(" Veuillez patienter"),ee=[Y,Z],te={key:1,class:"d-flex flex-column align-items-center"},se={key:2,class:"d-flex flex-column align-items-center"},ce=Object(c["h"])("Une erreur s'est produite "),oe=F(()=>Object(c["g"])("i",{class:"fa-solid fa-heart-crack"},null,-1)),ae=[ce,oe],ne={class:"row h-100"},ie={class:"col-md-8 p-0",id:"game-game"};function le(e,t,s,o,a,n){const i=Object(c["B"])("Btn"),l=Object(c["B"])("PhaseStart"),r=Object(c["B"])("PhaseLoadingStart"),d=Object(c["B"])("PhaseQuestion"),b=Object(c["B"])("PhaseLoadingQuestion"),u=Object(c["B"])("PhaseVote"),h=Object(c["B"])("PhaseLoadingVote"),_=Object(c["B"])("PhaseResultVote"),j=Object(c["B"])("PhaseRanking"),p=Object(c["B"])("GameChat");return"waiting"==a.status?(Object(c["u"])(),Object(c["f"])("div",X,[a.is_connected&&a.game_code_exists?(Object(c["u"])(),Object(c["f"])("div",Q,[Object(c["g"])("div",{class:"spinner-border",role:"status",style:Object(c["q"])({color:e.$store.state.c4})},K,4),Object(c["g"])("p",{class:"text-center m-3",style:Object(c["q"])({color:e.$store.state.c4})},ee,4),Object(c["i"])(i,{text:"Annuler",is_sm:!0,c1:e.$store.state.c3,c2:e.$store.state.c1,cl:"fa-solid fa-rotate-left",onClick:n.quit_from_comp},null,8,["c1","c2","onClick"])])):a.is_connected&&!a.game_code_exists?(Object(c["u"])(),Object(c["f"])("div",te,[Object(c["g"])("p",{class:"text-center m-3 font-weight-bold",style:Object(c["q"])({color:e.$store.state.cdanger})},"Aucune partie ne correspond au code "+Object(c["E"])(s.game_code),5),Object(c["i"])(i,{text:"Accueil",is_sm:!0,c1:e.$store.state.c3,c2:e.$store.state.c1,cl:"fa-solid fa-rotate-left",onClick:n.quit_from_comp},null,8,["c1","c2","onClick"])])):(Object(c["u"])(),Object(c["f"])("div",se,[Object(c["g"])("p",{class:"text-center m-3 font-weight-bold",style:Object(c["q"])({color:e.$store.state.cdanger})},ae,4),Object(c["i"])(i,{text:"Accueil",is_sm:!0,c1:e.$store.state.c3,c2:e.$store.state.c1,cl:"fa-solid fa-rotate-left",onClick:n.quit_from_comp},null,8,["c1","c2","onClick"])]))])):(Object(c["u"])(),Object(c["f"])("div",{key:1,class:Object(c["p"])(["col h-100",{"on-mobile":a.screen_width<768,"on-pc":a.screen_width>=768}])},[Object(c["g"])("div",ne,[Object(c["g"])("div",ie,["start"==a.phase?(Object(c["u"])(),Object(c["d"])(l,{key:0,is_host:a.host,onStart:n.change_phase,game_code:s.game_code,players:a.players,data_game:a.data_game,host_pseudo:a.host_pseudo},null,8,["is_host","onStart","game_code","players","data_game","host_pseudo"])):"loading_start"==a.phase?(Object(c["u"])(),Object(c["d"])(r,{key:1,is_host:a.host,round:a.round},null,8,["is_host","round"])):"question"==a.phase?(Object(c["u"])(),Object(c["d"])(d,{key:2,is_host:a.host,q_a:a.q_a,round:a.round,data_phase:a.data_phase,onAnswer:n.send_answer,onEnd:n.handle_end},null,8,["is_host","q_a","round","data_phase","onAnswer","onEnd"])):"loading_question"==a.phase?(Object(c["u"])(),Object(c["d"])(b,{key:3,is_host:a.host},null,8,["is_host"])):"vote"==a.phase?(Object(c["u"])(),Object(c["d"])(u,{key:4,is_host:a.host,q_a:a.q_a,round:a.round,data_phase:a.data_phase,origin_sid:a.origin_sid,onVote:n.vote_for,can_vote:a.data_phase.voting_people.includes(a.origin_sid),onEnd:n.handle_end},null,8,["is_host","q_a","round","data_phase","origin_sid","onVote","can_vote","onEnd"])):"loading_vote"==a.phase?(Object(c["u"])(),Object(c["d"])(h,{key:5,is_host:a.host},null,8,["is_host"])):"result_vote"==a.phase?(Object(c["u"])(),Object(c["d"])(_,{key:6,is_host:a.host,round:a.round,data_phase:a.data_phase,q_a:a.q_a,onEnd:n.handle_end},null,8,["is_host","round","data_phase","q_a","onEnd"])):"ranking"==a.phase?(Object(c["u"])(),Object(c["d"])(j,{key:7,is_host:a.host,round:a.round,data_phase:a.data_phase,players:a.players,onEnd:n.handle_end},null,8,["is_host","round","data_phase","players","onEnd"])):Object(c["e"])("",!0)]),Object(c["i"])(p,{class:"col-md-4 p-0",id:"game-chat",onQuit:n.quit_from_comp,chat:a.chat.msg,origin_sid:a.origin_sid,game_code:s.game_code,data_game:a.data_game,host_pseudo:a.host_pseudo,players:a.players,is_host:a.host,phase:a.phase,onMessage:n.send_message_chat,load_chat:a.is_connected&&a.load_chat,index_1:a.index_1,load_more_chat:a.is_connected&&a.load_more_chat,onMore_chat:n.do_load_more_chat},null,8,["onQuit","chat","origin_sid","game_code","data_game","host_pseudo","players","is_host","phase","onMessage","load_chat","index_1","load_more_chat","onMore_chat"])])],2))}s("14d9");var re=s("1157"),de=s.n(re),be=s("daa8");const ue=e=>(Object(c["x"])("data-v-584883b9"),e=e(),Object(c["v"])(),e),he={class:"nav nav-tabs"},_e=ue(()=>Object(c["g"])("i",{class:"fa-solid fa-comment"},null,-1)),je=[_e],pe=ue(()=>Object(c["g"])("i",{class:"fa-solid fa-ranking-star"},null,-1)),Oe=[pe],ge=ue(()=>Object(c["g"])("i",{class:"fa-solid fa-gear"},null,-1)),me=[ge],fe={class:"tab-pane active h-100",id:"tab-content-chat"},ye=ue(()=>Object(c["g"])("span",{class:"sr-only"},"Loading...",-1)),ve=[ye],ke={class:"h-100",id:"tab-content-chat-container"},we={class:"p-1",id:"content-chat"},$e={key:0,class:"d-flex justify-content-center mb-2"},xe=["disabled"],qe={key:0,class:"spinner-border spinner-border-sm"},Ee={key:1,class:"fa-solid fa-plus"},Be={key:2},Se={key:3},Ce={key:0,class:"message-block-msg"},Ae={key:0},Le=Object(c["h"])(" : "),Ie={key:1,class:""},Ve={key:2,class:""},Ne={key:3,class:""},Me=ue(()=>Object(c["g"])("i",{class:"fa-solid fa-check-to-slot"},null,-1)),Pe={key:4,class:""},Te=ue(()=>Object(c["g"])("i",{class:"fa-solid fa-check"},null,-1)),Ge={key:5,class:""},Je=ue(()=>Object(c["g"])("i",{class:"fa-regular fa-hand-point-right"},null,-1)),ze={key:6,class:""},De={class:"input-group",id:"input-group-chat"},He={class:"tab-pane",id:"tab-content-ranking"},Ue={class:""},Re={class:"ranking-row-pseudo p-2"},Fe={class:"m-0"},Xe={class:"text-center"},Qe={class:"tab-pane p-1",id:"tab-content-config"},We={class:"pt-2 d-flex justify-content-center"},Ke={key:1,class:""},Ye=ue(()=>Object(c["g"])("p",{class:"text-center mb-2"},"Voulez-vous vraiment quitter la partie ?",-1)),Ze={class:"d-flex justify-content-center"},et=Object(c["h"])(" Code de la partie : "),tt={key:0},st={key:1},ct={class:"font-weight-bold"},ot=Object(c["h"])(" est l'hôte de la partie"),at={key:0,class:""},nt=Object(c["h"])(" La partie se termine quand un joueur atteint "),it={class:"font-weight-bold"};function lt(e,t,s,o,a,n){const i=Object(c["B"])("Btn"),l=Object(c["B"])("Award");return Object(c["u"])(),Object(c["f"])("div",null,[Object(c["g"])("ul",he,[Object(c["g"])("li",{class:"nav-item",onClick:t[0]||(t[0]=e=>a.tab_focus="chat")},[Object(c["g"])("a",{class:"nav-link active",href:"#tab-content-chat","data-toggle":"tab",style:Object(c["q"])({"background-color":"chat"==a.tab_focus?e.$store.state.c4:e.$store.state.c1,color:"chat"==a.tab_focus?e.$store.state.c1:e.$store.state.c4})},je,4)]),Object(c["g"])("li",{class:"nav-item",onClick:t[1]||(t[1]=e=>a.tab_focus="ranking")},[Object(c["g"])("a",{class:"nav-link",href:"#tab-content-ranking","data-toggle":"tab",style:Object(c["q"])({"background-color":"ranking"==a.tab_focus?e.$store.state.c4:e.$store.state.c1,color:"ranking"==a.tab_focus?e.$store.state.c1:e.$store.state.c4})},Oe,4)]),Object(c["g"])("li",{class:"nav-item",onClick:t[2]||(t[2]=e=>n.click_tab_config())},[Object(c["g"])("a",{class:"nav-link",href:"#tab-content-config","data-toggle":"tab",style:Object(c["q"])({"background-color":"config"==a.tab_focus?e.$store.state.c4:e.$store.state.c1,color:"config"==a.tab_focus?e.$store.state.c1:e.$store.state.c4})},me,4)])]),Object(c["g"])("div",{class:"tab-content mb-3",style:Object(c["q"])({"background-color":e.$store.state.c4})},[Object(c["g"])("div",fe,[s.load_chat?(Object(c["u"])(),Object(c["f"])("div",{key:0,id:"chat-loader",class:"d-flex flex-column justify-content-center align-items-center",style:Object(c["q"])({"background-color":e.$store.state.c4})},[Object(c["g"])("div",{class:"spinner-border",role:"status",style:Object(c["q"])({color:e.$store.state.c1})},ve,4),Object(c["g"])("p",{class:"text-center m-2 font-weight-bold",style:Object(c["q"])({color:e.$store.state.c1})},"Chargement des messages",4)],4)):Object(c["e"])("",!0),Object(c["g"])("div",ke,[Object(c["g"])("div",we,[s.index_1>0?(Object(c["u"])(),Object(c["f"])("div",$e,[Object(c["g"])("button",{class:"btn btn-sm",style:Object(c["q"])({"background-color":e.$store.state.c3,color:e.$store.state.c1}),disabled:s.load_more_chat,onClick:t[3]||(t[3]=t=>e.$emit("more_chat"))},[s.load_more_chat?(Object(c["u"])(),Object(c["f"])("span",qe)):Object(c["e"])("",!0),s.load_more_chat?Object(c["e"])("",!0):(Object(c["u"])(),Object(c["f"])("i",Ee)),s.load_more_chat?(Object(c["u"])(),Object(c["f"])("span",Be," Chargement...")):Object(c["e"])("",!0),s.load_more_chat?Object(c["e"])("",!0):(Object(c["u"])(),Object(c["f"])("span",Se," Charger plus"))],12,xe)])):Object(c["e"])("",!0),(Object(c["u"])(!0),Object(c["f"])(c["a"],null,Object(c["A"])(s.chat,(t,o)=>(Object(c["u"])(),Object(c["f"])("div",{key:o,class:""},["msg"==t.type?(Object(c["u"])(),Object(c["f"])("div",Ce,[Object(c["g"])("p",{class:Object(c["p"])(["m-0",{"msg-not-sent":!t.sent}])},[Object(c["g"])("span",{class:"font-weight-bold pl-1 mr-1",style:Object(c["q"])({color:t.from==s.origin_sid?e.$store.state.c4:e.$store.state.c2,"background-color":t.from==s.origin_sid?e.$store.state.c2:"none"})},[Object(c["h"])(Object(c["E"])(t.pseudo)+" ",1),t.from==s.origin_sid?(Object(c["u"])(),Object(c["f"])("span",Ae,"(Vous)")):Object(c["e"])("",!0),Le],4),Object(c["g"])("span",{style:Object(c["q"])({color:e.$store.state.c1})},Object(c["E"])(t.value),5)],2)])):"disco"==t.type?(Object(c["u"])(),Object(c["f"])("div",Ie,[Object(c["g"])("p",{class:"m-0 text-center font-italic font-weight-bold",style:Object(c["q"])({color:e.$store.state.cdanger})},Object(c["E"])(t.from==s.origin_sid?"Vous vous êtes déconnecté":t.pseudo+" s'est déconnecté"),5)])):"reco"==t.type?(Object(c["u"])(),Object(c["f"])("div",Ve,[Object(c["g"])("p",{class:"m-0 text-center font-italic font-weight-bold",style:Object(c["q"])({color:e.$store.state.csuccess})},Object(c["E"])(t.from==s.origin_sid?"Vous vous êtes connecté":t.pseudo+" s'est connecté"),5)])):"vote"==t.type?(Object(c["u"])(),Object(c["f"])("div",Ne,[Object(c["g"])("p",{class:"m-0 text-center font-italic font-weight-bold",style:Object(c["q"])({color:e.$store.state.cwarning})},[Me,Object(c["h"])(" "+Object(c["E"])(t.from==s.origin_sid?"Vous avez voté":t.pseudo+" a voté")+" ",1),Object(c["g"])("span",null,"("+Object(c["E"])(t.meta.nb)+"/"+Object(c["E"])(t.meta.total)+")",1)],4)])):"answer"==t.type?(Object(c["u"])(),Object(c["f"])("div",Pe,[Object(c["g"])("p",{class:"m-0 text-center font-italic font-weight-bold",style:Object(c["q"])({color:e.$store.state.cwarning})},[Te,Object(c["h"])(" "+Object(c["E"])(t.from==s.origin_sid?"Vous avez répondu":t.pseudo+" a répondu")+" ",1),Object(c["g"])("span",null,"("+Object(c["E"])(t.meta.nb)+"/"+Object(c["E"])(t.meta.total)+")",1)],4)])):"new_host"==t.type?(Object(c["u"])(),Object(c["f"])("div",Ge,[Object(c["g"])("p",{class:"m-0 text-center font-italic font-weight-bold",style:Object(c["q"])({color:e.$store.state.cwarning})},[Je,Object(c["h"])(" "+Object(c["E"])(t.to==s.origin_sid?"Vous êtes désigné comme nouvel hôte de la partie":t.pseudo+" est désigné comme nouvel hôte de la partie"),1)],4)])):"game_not_found"==t.type?(Object(c["u"])(),Object(c["f"])("div",ze,[Object(c["g"])("p",{class:"m-0 my-3 text-center font-italic font-weight-bold",style:Object(c["q"])({color:e.$store.state.c4,"background-color":e.$store.state.cwarning})}," La partie n'existe plus. Veuillez en créer une autre ou en rejoindre ",4)])):Object(c["e"])("",!0)]))),128))]),Object(c["g"])("div",De,[Object(c["I"])(Object(c["g"])("input",{type:"text",class:"form-control",placeholder:"Votre message...",autocomplete:"off","onUpdate:modelValue":t[4]||(t[4]=e=>a.message_input=e),onKeyup:t[5]||(t[5]=Object(c["J"])(e=>n.send_message(),["enter"]))},null,544),[[c["G"],a.message_input]]),Object(c["i"])(i,{is_sm:!0,cl:"fa-brands fa-rocketchat",c1:e.$store.state.c2,c2:e.$store.state.c4,onClick:t[6]||(t[6]=e=>n.send_message())},null,8,["c1","c2"])])])]),Object(c["g"])("div",He,[Object(c["g"])("div",Ue,[Object(c["g"])("p",{class:"m-2 text-center font-weight-bold",style:Object(c["q"])({color:e.$store.state.c1})},"Classement",4),(Object(c["u"])(!0),Object(c["f"])(c["a"],null,Object(c["A"])(s.players,(t,o)=>(Object(c["u"])(),Object(c["f"])("div",{key:o,class:"d-flex justify-content-between rounded m-2",style:Object(c["q"])({border:"2px solid "+e.$store.state.c2})},[Object(c["g"])("div",{class:"d-flex justify-content-center align-items-center ranking-row-rank font-weight-bold",style:Object(c["q"])({color:e.$store.state.c4,"background-color":e.$store.state.c2})},[Object(c["g"])("span",null,Object(c["E"])("#"+(o+1)),1)],4),Object(c["g"])("div",Re,[Object(c["g"])("p",{class:"m-0",style:Object(c["q"])({color:e.$store.state.c1})},[Object(c["h"])(Object(c["E"])(t.pseudo)+" ",1),s.origin_sid==t.sids[0]?(Object(c["u"])(),Object(c["f"])("span",{key:0,class:"font-italic font-weight-bold",style:Object(c["q"])({color:e.$store.state.cwarning})},"(Vous)",4)):Object(c["e"])("",!0)],4),Object(c["g"])("p",Fe,[(Object(c["u"])(!0),Object(c["f"])(c["a"],null,Object(c["A"])(t.awards,(e,t)=>(Object(c["u"])(),Object(c["d"])(l,{key:t,for_what:e},null,8,["for_what"]))),128))])]),Object(c["g"])("div",{class:"d-flex justify-content-center align-items-center ranking-row-points font-weight-bold",style:Object(c["q"])({color:e.$store.state.c2,"background-color":e.$store.state.c4})},[Object(c["g"])("span",Xe,Object(c["E"])(t.score)+" "+Object(c["E"])(t.score>1?"points":"point"),1)],4)],4))),128))])]),Object(c["g"])("div",Qe,[Object(c["g"])("div",We,[a.wanna_quit?(Object(c["u"])(),Object(c["f"])("div",Ke,[Ye,Object(c["g"])("div",Ze,[Object(c["i"])(i,{is_sm:!0,c1:e.$store.state.c3,c2:e.$store.state.c1,text:"Non",class:"mx-2",onClick:t[8]||(t[8]=e=>a.wanna_quit=!1)},null,8,["c1","c2"]),Object(c["i"])(i,{is_sm:!0,c1:e.$store.state.cdanger,c2:e.$store.state.c4,text:"Oui",class:"mx-2",onClick:t[9]||(t[9]=e=>n.quit())},null,8,["c1","c2"])])])):(Object(c["u"])(),Object(c["d"])(i,{key:0,is_sm:!0,cl:"fa-solid fa-door-open",c1:e.$store.state.cdanger,c2:e.$store.state.c4,text:"Quitter",onClick:t[7]||(t[7]=e=>n.try_quit())},null,8,["c1","c2"]))]),Object(c["g"])("p",{class:"my-2",style:Object(c["q"])({color:e.$store.state.c1})},[et,a.code_copied?(Object(c["u"])(),Object(c["d"])(i,{key:1,is_sm:!0,text:"copié",cl:"fa-solid fa-check",c1:e.$store.state.c3,c2:e.$store.state.c1,is_disabled:!0},null,8,["c1","c2"])):(Object(c["u"])(),Object(c["d"])(i,{key:0,is_sm:!0,text:a.code,cl:"fa-solid fa-copy",c1:e.$store.state.c3,c2:e.$store.state.c1,onClick:t[10]||(t[10]=e=>n.copy_code())},null,8,["text","c1","c2"]))],4),Object(c["g"])("ul",{style:Object(c["q"])({color:e.$store.state.c1})},[Object(c["g"])("li",null,[s.is_host?(Object(c["u"])(),Object(c["f"])("span",tt,"Vous êtes l'hôte de la partie")):(Object(c["u"])(),Object(c["f"])("span",st,[Object(c["g"])("span",ct,Object(c["E"])(s.host_pseudo),1),ot]))]),"start"!=s.phase?(Object(c["u"])(),Object(c["f"])("li",at,[nt,Object(c["g"])("span",it,Object(c["E"])(s.data_game.score_goal)+" "+Object(c["E"])(s.data_game.score_goal>1?"points":"point"),1)])):Object(c["e"])("",!0)],4)])],4)])}const rt={class:"picture_wrapper"},dt=["src"];function bt(e,t,s,o,a,n){return Object(c["u"])(),Object(c["f"])("span",rt,[Object(c["g"])("img",{class:"picture",src:n.get_src},null,8,dt)])}var ut={components:{},props:{for_what:{type:String,default:"win"}},data(){return{}},computed:{get_src(){let e="";return"win"==this.for_what?e=s("ca9b"):"lose"==this.for_what&&(e=s("71be")),e}},methods:{},created(){}};s("147c");const ht=i()(ut,[["render",bt],["__scopeId","data-v-de5a8918"]]);var _t=ht,jt={components:{Btn:B,Award:_t},props:{is_host:{type:Boolean,default:!0},chat:{default:[]},origin_sid:{type:String,default:""},data_game:{default:{}},game_code:{type:String,default:""},host_pseudo:{type:String,default:"Joueur"},players:{default:[]},phase:{type:String,default:"start"},load_chat:{type:Boolean,default:!1},index_1:{type:Number,default:0},load_more_chat:{type:Boolean,default:!1}},data(){return{tab_focus:"chat",code_copied:!1,code:this.game_code,timer_copy_code:null,wanna_quit:!1,message_input:"",MESSAGE_MAX_LENGTH:1e3}},methods:{send_message(){this.message_input=this.message_input.trim(),this.message_input&&(this.message_input.length>this.MESSAGE_MAX_LENGTH?alert("Le message ne doit pas dépasser "+this.MESSAGE_MAX_LENGTH+" caractères"):(this.$emit("message",{message:this.message_input}),this.message_input=""))},make_code_copied_false_in_moment(){this.timer_copy_code=setTimeout(function(){this.code_copied=!1}.bind(this),2e3)},copy_code(){if(this.code_copied=!0,this.make_code_copied_false_in_moment(),navigator.clipboard)navigator.clipboard.writeText(this.code);else{const t=document.createElement("textarea");t.value=this.code,t.style.position="absolute",t.style.opacity=0,document.body.prepend(t),t.select();try{document.execCommand("copy")}catch(e){console.error(e)}finally{t.remove()}}},try_quit(){this.wanna_quit=!0},quit(){this.$emit("quit")},click_tab_config(){this.tab_focus="config",this.wanna_quit=!1}},created(){}};s("9cbe");const pt=i()(jt,[["render",lt],["__scopeId","data-v-584883b9"]]);var Ot=pt;const gt=e=>(Object(c["x"])("data-v-3a94f35a"),e=e(),Object(c["v"])(),e),mt={class:"p-1"},ft={key:0,class:"d-flex justify-content-center"},yt={key:1,class:""},vt={class:""},kt=gt(()=>Object(c["g"])("i",{class:"fa-solid fa-people-group"},null,-1)),wt=Object(c["h"])(" Joueurs : "),$t=Object(c["h"])(" Code de la partie : "),xt={class:"form-group"},qt=gt(()=>Object(c["g"])("label",{for:"score-goal-input"},[Object(c["g"])("i",{class:"fa-solid fa-flag-checkered"}),Object(c["h"])(" Fin de la partie quand un joueur atteint le score :")],-1)),Et={key:0,class:"m-0"},Bt=gt(()=>Object(c["g"])("i",{class:"fa-solid fa-house-user"},null,-1)),St=Object(c["h"])(" Vous êtes l'hôte de cette partie"),Ct=[Bt,St],At={key:1,class:"m-0"},Lt=gt(()=>Object(c["g"])("i",{class:"fa-solid fa-house-user"},null,-1)),It=Object(c["h"])(),Vt={class:"font-weight-bold"},Nt=Object(c["h"])(" est l'hôte de cette partie");function Mt(e,t,s,o,a,n){const i=Object(c["B"])("Btn");return Object(c["u"])(),Object(c["f"])("div",mt,[s.is_host?(Object(c["u"])(),Object(c["f"])("div",ft,[Object(c["i"])(i,{text:"Lancer",c1:e.$store.state.c2,c2:e.$store.state.c4,is_sm:!0,cl:"fa-solid fa-rocket",onClick:t[0]||(t[0]=e=>n.click_start())},null,8,["c1","c2"])])):(Object(c["u"])(),Object(c["f"])("div",yt,[Object(c["g"])("p",{class:"m-0 text-center font-italic",style:Object(c["q"])({color:e.$store.state.cdanger})},"Seul l'hôte peut lancer la partie",4)])),Object(c["g"])("div",vt,[Object(c["g"])("span",{style:Object(c["q"])({color:e.$store.state.c4})},[kt,wt,Object(c["g"])("span",null,Object(c["E"])(s.players.length),1)],4),Object(c["g"])("p",{class:"",style:Object(c["q"])({color:e.$store.state.c4})},[$t,a.code_copied?(Object(c["u"])(),Object(c["d"])(i,{key:1,is_sm:!0,text:"copié",cl:"fa-solid fa-check",c1:e.$store.state.c3,c2:e.$store.state.c1,is_disabled:!0},null,8,["c1","c2"])):(Object(c["u"])(),Object(c["d"])(i,{key:0,is_sm:!0,text:a.code,cl:"fa-solid fa-copy",c1:e.$store.state.c3,c2:e.$store.state.c1,onClick:t[1]||(t[1]=e=>n.copy_code())},null,8,["text","c1","c2"]))],4),s.is_host?(Object(c["u"])(),Object(c["f"])("div",{key:0,class:"",style:Object(c["q"])({color:e.$store.state.c4})},[Object(c["g"])("div",xt,[qt,Object(c["I"])(Object(c["g"])("input",{type:"number",class:"form-control",id:"score-goal-input",min:"1","onUpdate:modelValue":t[2]||(t[2]=e=>a.d_game.score_goal=e)},null,512),[[c["G"],a.d_game.score_goal]])])],4)):Object(c["e"])("",!0),Object(c["g"])("div",{class:"",style:Object(c["q"])({color:e.$store.state.c4})},[s.is_host?(Object(c["u"])(),Object(c["f"])("p",Et,Ct)):(Object(c["u"])(),Object(c["f"])("p",At,[Lt,It,Object(c["g"])("span",Vt,Object(c["E"])(s.host_pseudo),1),Nt]))],4)])])}var Pt={components:{Btn:B},props:{is_host:{type:Boolean,default:!0},game_code:{type:String,default:""},players:{default:[]},data_game:{default:{}},host_pseudo:{type:String,default:"Joueur"}},data(){return{code_copied:!1,code:this.game_code,timer_copy_code:null,d_game:this.data_game}},methods:{make_code_copied_false_in_moment(){this.timer_copy_code=setTimeout(function(){this.code_copied=!1}.bind(this),2e3)},copy_code(){if(this.code_copied=!0,this.make_code_copied_false_in_moment(),navigator.clipboard)navigator.clipboard.writeText(this.code);else{const t=document.createElement("textarea");t.value=this.code,t.style.position="absolute",t.style.opacity=0,document.body.prepend(t),t.select();try{document.execCommand("copy")}catch(e){console.error(e)}finally{t.remove()}}},click_start(){let e=this.d_game.score_goal;if(this.players.length<3)alert("Le nombre de joueurs doit être au moins 3");else if(!Number.isInteger(e)||e<1)alert("Le score objectif doit être un nombre entier strictement supérieur à 0");else{let e={phase:"loading_start",from_phase:"start",data_game:this.d_game};this.$emit("start",e)}}}};s("5840");const Tt=i()(Pt,[["render",Mt],["__scopeId","data-v-3a94f35a"]]);var Gt=Tt;const Jt={class:"p-1 h-100 d-flex justify-content-center align-items-center"},zt={class:"d-flex flex-column align-items-center"},Dt=Object(c["g"])("span",{class:"sr-only"},"Loading...",-1),Ht=[Dt],Ut=Object(c["g"])("i",{class:"fa-solid fa-person-running"},null,-1);function Rt(e,t,s,o,a,n){return Object(c["u"])(),Object(c["f"])("div",Jt,[Object(c["g"])("div",zt,[Object(c["g"])("div",{class:"spinner-border",role:"status",style:Object(c["q"])({color:e.$store.state.c4})},Ht,4),Object(c["g"])("p",{class:"text-center m-3",style:Object(c["q"])({color:e.$store.state.c4})},[Ut,Object(c["h"])(" Soyez prêt pour le round "+Object(c["E"])(s.round),1)],4)])])}var Ft={components:{},props:{is_host:{type:Boolean,default:!0},round:{type:Number,default:0}},data(){return{}},methods:{}};const Xt=i()(Ft,[["render",Rt]]);var Qt=Xt;const Wt={class:"p-1 h-100"},Kt={class:"h-100"},Yt={class:"text-center m-0"},Zt={class:"text-center m-0 my-1"},es=Object(c["h"])("Donne la réponse "),ts={class:"font-weight-bold"},ss={class:"form-group m-0 mt-3"},cs=["disabled"],os={class:"d-flex justify-content-center p-1"};function as(e,t,s,o,a,n){const i=Object(c["B"])("IndicationBar"),l=Object(c["B"])("Btn");return Object(c["u"])(),Object(c["f"])("div",Wt,[Object(c["g"])("div",Kt,[Object(c["i"])(i,{indication:"question",date_end:s.data_phase.date_end,round:s.round,onEnd:t[0]||(t[0]=t=>e.$emit("end","loading_question"))},null,8,["date_end","round"]),Object(c["g"])("div",{class:"question-zone p-1 pb-2",style:Object(c["q"])({color:e.$store.state.c4})},[Object(c["g"])("p",Yt,Object(c["E"])(s.q_a.question),1),Object(c["g"])("p",Zt,[es,Object(c["g"])("span",ts,Object(c["E"])(s.q_a.answer),1)]),Object(c["g"])("div",ss,[Object(c["I"])(Object(c["g"])("textarea",{class:"form-control",rows:"2",placeholder:"Votre réponse...","onUpdate:modelValue":t[1]||(t[1]=e=>a.answer=e),disabled:a.answer_sent},null,8,cs),[[c["G"],a.answer]])]),Object(c["g"])("div",os,[a.answer_sent?(Object(c["u"])(),Object(c["d"])(l,{key:1,text:"Patientez jusqu'aux votes",is_sm:!0,cl:"fa-solid fa-circle-check",c1:e.$store.state.c2,c2:e.$store.state.c4,onClick:t[3]||(t[3]=e=>n.confirm_answer()),disabled:a.answer_sent},null,8,["c1","c2","disabled"])):(Object(c["u"])(),Object(c["d"])(l,{key:0,text:"Confirmer",is_sm:!0,cl:"fa-regular fa-thumbs-up",c1:e.$store.state.c2,c2:e.$store.state.c4,onClick:t[2]||(t[2]=e=>n.confirm_answer())},null,8,["c1","c2"]))])],4)])])}const ns=Object(c["g"])("i",{class:"fa-solid fa-hourglass-half"},null,-1),is={key:0,class:"text-center m-0"},ls=Object(c["g"])("i",{class:"fa-regular fa-circle-question"},null,-1),rs=Object(c["h"])(" Question"),ds=[ls,rs],bs={key:1,class:"text-center m-0"},us=Object(c["g"])("i",{class:"fa-solid fa-check-to-slot"},null,-1),hs=Object(c["h"])(" Vote"),_s=[us,hs],js={key:2,class:"text-center m-0"},ps=Object(c["g"])("i",{class:"fa-solid fa-square-poll-vertical"},null,-1),Os=Object(c["h"])(" Résultat des votes"),gs=[ps,Os],ms={key:3,class:"text-center m-0"},fs=Object(c["g"])("i",{class:"fa-solid fa-ranking-star"},null,-1),ys=Object(c["h"])(" Classement"),vs=[fs,ys],ks={class:"text-center m-0 font-italic"};function ws(e,t,s,o,a,n){return Object(c["u"])(),Object(c["f"])("div",{class:"indication-bar d-flex justify-content-between px-1",style:Object(c["q"])({"background-color":e.$store.state.c2})},[Object(c["g"])("div",{class:"indication-time",style:Object(c["q"])({color:e.$store.state.c4})},[ns,Object(c["h"])(" "+Object(c["E"])(n.time_left),1)],4),Object(c["g"])("div",{class:"indication-phase mx-2",style:Object(c["q"])({color:e.$store.state.c4})},["question"==s.indication?(Object(c["u"])(),Object(c["f"])("p",is,ds)):"vote"==s.indication?(Object(c["u"])(),Object(c["f"])("p",bs,_s)):"result_vote"==s.indication?(Object(c["u"])(),Object(c["f"])("p",js,gs)):"ranking"==s.indication?(Object(c["u"])(),Object(c["f"])("p",ms,vs)):Object(c["e"])("",!0)],4),Object(c["g"])("div",{class:"indication-round",style:Object(c["q"])({color:e.$store.state.c4})},[Object(c["g"])("p",ks,"Round "+Object(c["E"])(s.round),1)],4)],4)}var $s={components:{},props:{indication:{type:String,default:"question"},date_end:{default:null},round:{type:Number,default:1}},data(){return{timer:null,date_now:new Date(Date.UTC())}},computed:{time_left(){let e=new Date(this.date_end);const t=e-this.date_now,s=Math.ceil(t/1e3);let c="";return Number.isInteger(s)&&(c=s,s<0&&(c=0,this.$emit("end"),this.set_timeout())),c}},methods:{set_timeout(){setTimeout(this.timer)}},created(){this.timer=setInterval(function(){this.date_now=new Date}.bind(this),1e3)},beforeUnmount(){setTimeout(this.timer)}};const xs=i()($s,[["render",ws]]);var qs=xs,Es={components:{IndicationBar:qs,Btn:B},props:{is_host:{type:Boolean,default:!0},q_a:{default:{question:"",answer:""}},round:{type:Number,default:1},data_phase:{default:{}}},data(){return{answer:"",ANSWER_MAX_LENGTH:200,answer_sent:!1}},methods:{confirm_answer(){if(this.answer=this.answer.trim(),!this.answer||this.answer.length>this.ANSWER_MAX_LENGTH)alert("La réponse doit être entre 1 et "+this.ANSWER_MAX_LENGTH+" caractères");else{this.answer_sent=!0;let e={answer:this.answer};this.$emit("answer",e)}}}};s("7d17");const Bs=i()(Es,[["render",as],["__scopeId","data-v-14c558f2"]]);var Ss=Bs;const Cs={class:"p-1 h-100 d-flex justify-content-center align-items-center"},As={class:"d-flex flex-column align-items-center"},Ls=Object(c["g"])("span",{class:"sr-only"},"Loading...",-1),Is=[Ls],Vs=Object(c["h"])("Vous allez voter... "),Ns=Object(c["g"])("i",{class:"fa-solid fa-person-booth"},null,-1),Ms=[Vs,Ns];function Ps(e,t,s,o,a,n){return Object(c["u"])(),Object(c["f"])("div",Cs,[Object(c["g"])("div",As,[Object(c["g"])("div",{class:"spinner-border",role:"status",style:Object(c["q"])({color:e.$store.state.c4})},Is,4),Object(c["g"])("p",{class:"text-center m-3",style:Object(c["q"])({color:e.$store.state.c4})},Ms,4)])])}var Ts={components:{},props:{is_host:{type:Boolean,default:!0}},data(){return{}},methods:{}};const Gs=i()(Ts,[["render",Ps]]);var Js=Gs;const zs=e=>(Object(c["x"])("data-v-04442db5"),e=e(),Object(c["v"])(),e),Ds={class:"p-1 h-100"},Hs={class:"h-100"},Us={class:"text-center m-0"},Rs={class:"text-center m-0 my-1"},Fs=Object(c["h"])("Vote pour la réponse "),Xs={class:"font-weight-bold"},Qs=zs(()=>Object(c["g"])("p",{class:"text-center m-0 my-1 font-italic"},"(Tu ne peux voter que pour celle des autres joueurs)",-1)),Ws={key:0,class:"pt-2"},Ks={class:"answer-num font-weight-bold"},Ys={key:0,class:"m-0 d-flex justify-content-end"},Zs={key:1,class:"m-0 d-flex justify-content-end"},ec={key:2,class:"m-0 d-flex justify-content-end"},tc=zs(()=>Object(c["g"])("i",{class:"fa-solid fa-hand-point-up"},null,-1)),sc=Object(c["h"])(" Votre réponse"),cc=[tc,sc],oc={key:1,class:"pt-2"},ac=Object(c["h"])(" Personne n'a donné de réponse "),nc=zs(()=>Object(c["g"])("i",{class:"fa-regular fa-face-frown"},null,-1)),ic=[ac,nc];function lc(e,t,s,o,a,n){const i=Object(c["B"])("IndicationBar"),l=Object(c["B"])("Btn");return Object(c["u"])(),Object(c["f"])("div",Ds,[Object(c["g"])("div",Hs,[Object(c["i"])(i,{indication:"vote",date_end:s.data_phase.date_end,round:s.round,onEnd:t[0]||(t[0]=t=>e.$emit("end","loading_vote"))},null,8,["date_end","round"]),Object(c["g"])("div",{class:"vote-zone p-1 pb-2",style:Object(c["q"])({color:e.$store.state.c4})},[Object(c["g"])("p",Us,Object(c["E"])(s.q_a.question),1),Object(c["g"])("p",Rs,[Fs,Object(c["g"])("span",Xs,Object(c["E"])(s.q_a.answer),1)]),Qs,s.data_phase.answers_list.length>0?(Object(c["u"])(),Object(c["f"])("div",Ws,[(Object(c["u"])(!0),Object(c["f"])(c["a"],null,Object(c["A"])(s.data_phase.answers_list,(t,o)=>(Object(c["u"])(),Object(c["f"])("div",{key:o,class:"mb-2 p-1 rounded",style:Object(c["q"])({"background-color":e.$store.state.c3})},[Object(c["g"])("p",{class:"m-0 font-italic",style:Object(c["q"])({color:e.$store.state.c1})},[Object(c["g"])("span",Ks,"Réponse n°"+Object(c["E"])(o+1),1)],4),Object(c["g"])("p",{class:"m-0 answer-text pb-2 px-2 text-center",style:Object(c["q"])({color:e.$store.state.c1})},Object(c["E"])(t.answer),5),s.can_vote&&t.sid!=s.origin_sid?(Object(c["u"])(),Object(c["f"])("div",Ys,[a.my_vote?a.my_vote==t.sid?(Object(c["u"])(),Object(c["d"])(l,{key:1,text:"J'ai voté pour ceci",is_sm:!0,c1:e.$store.state.c4,c2:e.$store.state.c1,cl:"fa-solid fa-thumbs-up",disabled:!0},null,8,["c1","c2"])):Object(c["e"])("",!0):(Object(c["u"])(),Object(c["d"])(l,{key:0,text:"Je vote pour ceci",is_sm:!0,c1:e.$store.state.c4,c2:e.$store.state.c1,cl:"fa-regular fa-thumbs-up",onClick:e=>n.vote_for(t.sid)},null,8,["c1","c2","onClick"]))])):s.can_vote?(Object(c["u"])(),Object(c["f"])("div",ec,[Object(c["g"])("span",{class:"font-italic",style:Object(c["q"])({color:e.$store.state.c2})},cc,4)])):(Object(c["u"])(),Object(c["f"])("div",Zs,[Object(c["g"])("span",{class:"font-italic",style:Object(c["q"])({color:e.$store.state.cdanger})},"Vous ne pouvez pas voter",4)]))],4))),128))])):(Object(c["u"])(),Object(c["f"])("div",oc,[Object(c["g"])("p",{class:"text-center m-0 font-weight-bold",style:Object(c["q"])({color:e.$store.state.cdanger})},ic,4)]))],4)])])}var rc={components:{IndicationBar:qs,Btn:B},props:{is_host:{type:Boolean,default:!0},q_a:{default:{question:"",answer:""}},round:{type:Number,default:1},data_phase:{default:{}},origin_sid:{type:String,default:""},can_vote:{type:Boolean,default:!1}},data(){return{my_vote:null}},methods:{vote_for(e){this.my_vote=e;let t={sid:e};this.$emit("vote",t)}}};s("39ea");const dc=i()(rc,[["render",lc],["__scopeId","data-v-04442db5"]]);var bc=dc;const uc={class:"p-1 h-100 d-flex justify-content-center align-items-center"},hc={class:"d-flex flex-column align-items-center"},_c=Object(c["g"])("span",{class:"sr-only"},"Loading...",-1),jc=[_c];function pc(e,t,s,o,a,n){return Object(c["u"])(),Object(c["f"])("div",uc,[Object(c["g"])("div",hc,[Object(c["g"])("div",{class:"spinner-border",role:"status",style:Object(c["q"])({color:e.$store.state.c4})},jc,4),Object(c["g"])("p",{class:"text-center m-3",style:Object(c["q"])({color:e.$store.state.c4})},"Résultat des votes",4)])])}var Oc={components:{},props:{is_host:{type:Boolean,default:!0}},data(){return{}},methods:{}};const gc=i()(Oc,[["render",pc]]);var mc=gc;const fc=e=>(Object(c["x"])("data-v-f7afe964"),e=e(),Object(c["v"])(),e),yc={class:"p-1 h-100"},vc={class:"h-100"},kc={class:"result-zone"},wc={class:""},$c={key:0,class:""},xc=Object(c["h"])(" gagne "),qc={key:1,class:""},Ec=Object(c["h"])(" gagnent "),Bc={class:""},Sc={class:"m-0 text-center"},Cc={class:"m-0 text-center"},Ac=Object(c["h"])("La réponse "),Lc={class:"font-weight-bold"},Ic=Object(c["h"])(" :"),Vc={class:""},Nc={class:"result-row-answer"},Mc={class:"font-italic"},Pc={key:0},Tc={key:1,class:"mt-2"},Gc=Object(c["h"])(" Personne n'a voté "),Jc=fc(()=>Object(c["g"])("i",{class:"fa-regular fa-face-frown"},null,-1)),zc=[Gc,Jc];function Dc(e,t,s,o,a,n){const i=Object(c["B"])("IndicationBar");return Object(c["u"])(),Object(c["f"])("div",yc,[Object(c["g"])("div",vc,[Object(c["i"])(i,{indication:"result_vote",round:s.round,date_end:s.data_phase.date_end,onEnd:n.handle_end},null,8,["round","date_end","onEnd"]),Object(c["g"])("div",kc,[s.data_phase.ranking.length>0?(Object(c["u"])(),Object(c["f"])("p",{key:0,class:"m-0",style:Object(c["q"])({color:e.$store.state.c4})},[Object(c["g"])("ul",wc,[s.data_phase.winning_people.last?(Object(c["u"])(),Object(c["f"])("li",qc,[(Object(c["u"])(!0),Object(c["f"])(c["a"],null,Object(c["A"])(s.data_phase.winning_people.firsts,(t,o)=>(Object(c["u"])(),Object(c["f"])("span",{key:o},[Object(c["g"])("span",{class:"font-weight-bold",style:Object(c["q"])({color:e.$store.state.c3})},Object(c["E"])(t.pseudo),5),Object(c["h"])(Object(c["E"])(o==s.data_phase.winning_people.firsts.length-1?" et ":", "),1)]))),128)),Object(c["g"])("span",{class:"font-weight-bold",style:Object(c["q"])({color:e.$store.state.c3})},Object(c["E"])(s.data_phase.winning_people.last.pseudo),5),Ec,Object(c["g"])("span",{class:"font-weight-bold",style:Object(c["q"])({color:e.$store.state.c3})},Object(c["E"])(s.data_phase.max_votes+1)+" points ",5)])):(Object(c["u"])(),Object(c["f"])("li",$c,[Object(c["g"])("span",{class:"font-weight-bold",style:Object(c["q"])({color:e.$store.state.c3})},Object(c["E"])(s.data_phase.winning_people.firsts[0].pseudo),5),xc,Object(c["g"])("span",{class:"font-weight-bold",style:Object(c["q"])({color:e.$store.state.c3})},Object(c["E"])(s.data_phase.max_votes+1)+" points ",5)])),Object(c["g"])("li",Bc,[Object(c["h"])(" Tous ceux qui ont voté pour "+Object(c["E"])(s.data_phase.winning_people.last?"leurs réponses":"sa réponse")+" gagnent ",1),Object(c["g"])("span",{class:"font-weight-bold",style:Object(c["q"])({color:e.$store.state.c3})},Object(c["E"])(s.data_phase.max_votes)+" "+Object(c["E"])(s.data_phase.max_votes>1?"points":"point"),5)])])],4)):Object(c["e"])("",!0),Object(c["g"])("div",{class:"",style:Object(c["q"])({color:e.$store.state.c4})},[Object(c["g"])("p",Sc,Object(c["E"])(s.q_a.question),1),Object(c["g"])("p",Cc,[Ac,Object(c["g"])("span",Lc,Object(c["E"])(s.q_a.answer),1),Ic])],4),Object(c["g"])("div",Vc,[(Object(c["u"])(!0),Object(c["f"])(c["a"],null,Object(c["A"])(s.data_phase.ranking,(t,s)=>(Object(c["u"])(),Object(c["f"])("div",{key:s,class:"d-flex justify-content-between my-2 rounded",style:Object(c["q"])({border:"2px solid "+e.$store.state.c4})},[Object(c["g"])("div",{class:"d-flex justify-content-center align-items-center result-row-rank font-weight-bold",style:Object(c["q"])({color:e.$store.state.c1,"background-color":e.$store.state.c4})},[Object(c["g"])("span",null,Object(c["E"])("#"+(s+1)),1)],4),Object(c["g"])("div",Nc,[Object(c["g"])("p",{class:"m-0 font-weight-bold px-1",style:Object(c["q"])({color:e.$store.state.c3})},[Object(c["h"])(Object(c["E"])(t.pseudo)+" ",1),Object(c["g"])("span",Mc,"("+Object(c["E"])(t.nb_votes)+" "+Object(c["E"])(t.nb_votes>1?"votes":"vote")+")",1)],4),Object(c["g"])("p",{class:"m-0 pb-1 px-1",style:Object(c["q"])({color:e.$store.state.c4})},Object(c["E"])(t.answer),5)]),Object(c["g"])("div",{class:"d-flex justify-content-center align-items-center result-row-points font-weight-bold",style:Object(c["q"])({color:e.$store.state.cpoints})},[t.points>0?(Object(c["u"])(),Object(c["f"])("span",Pc,"+"+Object(c["E"])(t.points)+" "+Object(c["E"])(t.points>1?"points":"point"),1)):Object(c["e"])("",!0)],4)],4))),128))]),0==s.data_phase.ranking.length?(Object(c["u"])(),Object(c["f"])("div",Tc,[Object(c["g"])("p",{class:"text-center m-0 font-weight-bold",style:Object(c["q"])({color:e.$store.state.cdanger})},zc,4)])):Object(c["e"])("",!0)])])])}var Hc={components:{IndicationBar:qs},props:{is_host:{type:Boolean,default:!0},round:{type:Number,default:1},data_phase:{default:{}},q_a:{default:{question:"",answer:""}}},data(){return{}},methods:{handle_end(){this.data_phase.finished?this.$emit("end","ranking"):this.$emit("end","loading_start")}}};s("9b41");const Uc=i()(Hc,[["render",Dc],["__scopeId","data-v-f7afe964"]]);var Rc=Uc;const Fc={class:"p-1 h-100"},Xc={class:"h-100"},Qc={class:""},Wc={class:"m-2"},Kc={class:"m-2"},Yc={class:"ranking-zone"},Zc={class:"ranking-row-pseudo p-2"},eo={class:"text-center"};function to(e,t,s,o,a,n){const i=Object(c["B"])("IndicationBar"),l=Object(c["B"])("Award");return Object(c["u"])(),Object(c["f"])("div",Fc,[Object(c["g"])("div",Xc,[Object(c["i"])(i,{indication:"ranking",round:s.round,date_end:s.data_phase.date_finish,onEnd:t[0]||(t[0]=t=>e.$emit("end","start"))},null,8,["round","date_end"]),Object(c["g"])("div",Qc,[Object(c["g"])("h5",{class:"m-0 text-center",style:Object(c["q"])({color:e.$store.state.c4})},"Fin de la partie",4),Object(c["g"])("div",Wc,[Object(c["g"])("p",{class:"m-0 text-center font-weight-bold",style:Object(c["q"])({color:e.$store.state.c1,"background-color":e.$store.state.c3})},Object(c["E"])(s.data_phase.winners.length>1?"Les gagnants":"Le gagnant"),5),(Object(c["u"])(!0),Object(c["f"])(c["a"],null,Object(c["A"])(s.data_phase.winners,(t,s)=>(Object(c["u"])(),Object(c["f"])("p",{key:s,class:"m-0 text-center p-1",style:Object(c["q"])({color:e.$store.state.c4})},[Object(c["i"])(l,{for_what:"win"}),Object(c["h"])(" "+Object(c["E"])(t.pseudo),1)],4))),128))]),Object(c["g"])("div",Kc,[Object(c["g"])("p",{class:"m-0 text-center font-weight-bold",style:Object(c["q"])({color:e.$store.state.c1,"background-color":e.$store.state.c3})},Object(c["E"])(s.data_phase.losers.length>1?"Les gros perdants":"Le gros perdant"),5),(Object(c["u"])(!0),Object(c["f"])(c["a"],null,Object(c["A"])(s.data_phase.losers,(t,s)=>(Object(c["u"])(),Object(c["f"])("p",{key:s,class:"m-0 text-center p-1",style:Object(c["q"])({color:e.$store.state.c4})},[Object(c["i"])(l,{for_what:"lose"}),Object(c["h"])(" "+Object(c["E"])(t.pseudo),1)],4))),128))])]),Object(c["g"])("div",Yc,[(Object(c["u"])(!0),Object(c["f"])(c["a"],null,Object(c["A"])(s.players,(t,s)=>(Object(c["u"])(),Object(c["f"])("div",{key:s,class:"d-flex justify-content-between rounded my-2",style:Object(c["q"])({border:"2px solid "+e.$store.state.c4})},[Object(c["g"])("div",{class:"d-flex justify-content-center align-items-center ranking-row-rank font-weight-bold",style:Object(c["q"])({color:e.$store.state.c1,"background-color":e.$store.state.c4})},[Object(c["g"])("span",null,Object(c["E"])("#"+(s+1)),1)],4),Object(c["g"])("div",Zc,[Object(c["g"])("p",{class:"m-0",style:Object(c["q"])({color:e.$store.state.c4})},Object(c["E"])(t.pseudo),5)]),Object(c["g"])("div",{class:"d-flex justify-content-center align-items-center ranking-row-points font-weight-bold",style:Object(c["q"])({color:e.$store.state.c3})},[Object(c["g"])("span",eo,Object(c["E"])(t.score)+" "+Object(c["E"])(t.score>1?"points":"point"),1)],4)],4))),128))])])])}var so={components:{IndicationBar:qs,Award:_t},props:{is_host:{type:Boolean,default:!0},round:{type:Number,default:1},data_phase:{default:{}},players:{default:[]}},data(){return{}},methods:{}};s("f5f4");const co=i()(so,[["render",to],["__scopeId","data-v-dc406940"]]);var oo=co,ao={components:{Btn:B,GameChat:Ot,PhaseStart:Gt,PhaseLoadingStart:Qt,PhaseQuestion:Ss,PhaseLoadingQuestion:Js,PhaseVote:bc,PhaseLoadingVote:mc,PhaseResultVote:Rc,PhaseRanking:oo},props:{pseudo:{type:String,default:"Joueur"},is_host:{type:Boolean,default:!0},game_code:{type:String,default:""}},data(){return{status:"waiting",screen_width:0,screen_height:0,host:this.is_host,phase:"start",chat:{msg:[]},socket:null,is_connected:!0,origin_sid:null,check_first_connection:"",game_code_exists:!0,players:[],data_game:{},data_phase:{},host_pseudo:"Joueur",round:1,q_a:{question:"",answer:""},load_chat:!1,load_more_chat:!1,index_1:0}},methods:{do_load_more_chat(){this.load_more_chat=!0;let e={game_code:this.game_code,origin_sid:this.origin_sid,first_load:!1,index_1:this.index_1};this.socket.emit("load_chat",JSON.stringify(e))},is_chat_scroll_bottom(){let e=de()("#content-chat"),t=document.getElementById("content-chat"),s=!1;if(t){let c=e.height();t.scrollHeight-(t.scrollTop+c)<=10&&(s=!0)}return s},make_chat_scroll_bottom(){var e=document.getElementById("content-chat");de()("#content-chat").animate({scrollTop:e.scrollHeight},"fast")},send_message_chat(e){let t=this.generate_chars(),s={type:"msg",from:this.origin_sid,pseudo:this.pseudo,value:e.message,sent:!0,salt:t},c={game_code:this.game_code,from_sid:this.origin_sid,data_msg:s};this.socket.emit("send_message",JSON.stringify(c));let o=JSON.parse(JSON.stringify(s));o.sent=!1,this.chat.msg.push(o),this.make_chat_scroll_bottom()},handle_end(e){let t=!1;"loading_question"==e&&"question"==this.phase||"loading_vote"==e&&"vote"==this.phase||"ranking"==e&&"result_vote"==this.phase?t=!0:"loading_start"==e&&"result_vote"==this.phase?(t=!0,this.round+=1):"start"==e&&"ranking"==this.phase&&(t=!0),t&&(this.phase=e)},vote_for(e){let t={game_code:this.game_code,from_sid:this.origin_sid,sid_to_vote:e.sid};this.socket.emit("vote_for",JSON.stringify(t))},send_answer(e){let t={game_code:this.game_code,from_sid:this.origin_sid,answer:e.answer};this.socket.emit("send_answer",JSON.stringify(t))},generate_chars(){let e="";const t=4,s="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",c=s.length;let o=0;while(o<t)e+=s.charAt(Math.floor(Math.random()*c)),o+=1;return e},change_phase(e){let t=e.from_phase;if("start"==t&&(this.phase=e.phase,this.host)){this.round=1;let t={game_code:this.game_code,from_sid:this.origin_sid,data_game:e.data_game};this.socket.emit("start_game",JSON.stringify(t))}},quit_from_comp(){let e={mode:"select_mode"};this.$emit("mode",e)},click_confirm(){let e=this.code.trim();this.code=e,e?this.$emit("confirm",e):alert("Le code ne doit pas être vide")},go_home(){this.$emit("mode","select_mode")},update_screen_size(){this.screen_width=window.screen.width,this.screen_height=window.screen.height},before_window_unload(e){e.preventDefault();let t="Vous êtes sur le point de quitter cette partie";return e.returnValue=t,t},handle_connect(){this.is_connected=!0;let e=this.generate_chars();this.check_first_connection=e;let t={game_code:this.game_code,is_host:this.is_host,origin_sid:this.origin_sid,pseudo:this.pseudo,chars:e};this.socket.emit("join_game",JSON.stringify(t))},handle_disconnect(){this.is_connected=!1,this.host=!1;let e=this.is_chat_scroll_bottom();this.chat.msg.push({type:"disco",from:this.origin_sid,pseudo:this.pseudo}),e&&this.make_chat_scroll_bottom()},update_data(e){this.players=e.data.people,this.data_game=e.data.data_game,this.data_phase=e.data.data_phase,this.host_pseudo=e.data.host_pseudo,this.q_a={question:e.data.question,answer:e.data.answer},this.round=e.data.round,this.phase=e.data.phase},handle_message(e){if(e=JSON.parse(e),console.log(e),"res_join_game"==e.type)if(e.success){if(e.chars==this.check_first_connection&&(this.origin_sid=e.origin_sid),this.check_first_connection=null,this.update_data(e),this.status="game",this.origin_sid==e.origin_sid){this.load_chat=!0;let e={game_code:this.game_code,origin_sid:this.origin_sid,first_load:!0};this.socket.emit("load_chat",JSON.stringify(e))}}else{this.game_code_exists=!1,this.host=!1,this.load_chat=!1;let e=this.is_chat_scroll_bottom();this.chat.msg.push({type:"game_not_found"}),e&&this.make_chat_scroll_bottom()}else if("res_start_game"==e.type)e.success&&this.update_data(e);else if("res_next_phase"==e.type)this.update_data(e);else if("res_send_message"==e.type)if("msg"==e.data.type&&e.data.from==this.origin_sid)for(var t=this.chat.msg.length-1;t>=0;t--){let s=this.chat.msg[t];if(e.data.from==s.from&&e.data.salt==s.salt){this.chat.msg[t].sent=!0;break}}else{let t=this.is_chat_scroll_bottom();this.chat.msg.push(e.data),t&&this.make_chat_scroll_bottom()}else if("res_disconnection"==e.type)this.players=e.people,e.new_host&&(this.host_pseudo=e.host_pseudo,e.host_sid==this.origin_sid&&(this.host=!0));else if("res_load_chat"==e.type){if(e.success&&e.origin_sid==this.origin_sid)if(this.index_1=e.index_1,e.first_load){this.chat.msg=e.chat;var s=document.getElementById("content-chat");s.scrollTop=s.scrollHeight,this.make_chat_scroll_bottom()}else this.chat.msg=e.chat.concat(this.chat.msg);this.load_chat=!1,this.load_more_chat=!1}}},created(){this.$store.dispatch("set_is_in_game",!0),window.addEventListener("beforeunload",this.before_window_unload),this.socket=Object(be["a"])(this.$store.state.url_b_socket),this.socket.on("connect",()=>{console.log("Connecté au serveur Socket.IO"),this.handle_connect()}),this.socket.on("disconnect",()=>{console.log("Déconnecté du serveur Socket.IO"),this.handle_disconnect()}),this.socket.on("connect_error",()=>{this.is_connected=!1}),this.socket.on("message",this.handle_message)},mounted(){this.update_screen_size(),window.addEventListener("resize",this.update_screen_size)},beforeUnmount(){window.removeEventListener("resize",this.update_screen_size),this.$store.dispatch("set_is_in_game",!1),window.removeEventListener("beforeunload",this.before_window_unload),this.socket&&this.socket.disconnect()}};s("e6b4");const no=i()(ao,[["render",le],["__scopeId","data-v-71c94420"]]);var io=no,lo={components:{SelectMode:A,JoinGame:R,Game:io},data(){return{mode:"select_mode",pseudo:"Joueur",game_code:"",is_host:!0}},methods:{change_mode(e){"game"==e.mode&&(this.game_code=e.game_code,this.is_host=!0),this.mode=e.mode},change_pseudo(e){this.pseudo=e},join_game(e){this.game_code=e.toUpperCase(),this.is_host=!1,this.mode="game"}},created(){let e=localStorage.getItem("wah_pseudo");e&&(this.pseudo=e)}};s("134b");const ro=i()(lo,[["render",j],["__scopeId","data-v-595019b4"]]);var bo=ro,uo=[{path:"/",name:"Home",component:bo}],ho=uo,_o=[];_o=_o.concat(ho);const jo=Object(d["a"])({history:Object(d["b"])("/words-against-humanity/"),routes:_o});var po=jo,Oo=s("5502"),go=Object(Oo["a"])({state:{token:"loading",url_b:"http://"+window.location.hostname+":5000",url_b_socket:"https://north-dynamic-produce.glitch.me",c1:"#27374D",c2:"#526D82",c3:"#9DB2BF",c4:"#DDE6ED",cdanger:"#DC3545",csuccess:"#28a745",cwarning:"#A73121",cpoints:"#28a745",is_in_game:!1},mutations:{SET_TOKEN(e,t){e.token=t},SET_IS_IN_GAME(e,t){e.is_in_game=t}},actions:{set_token(e,t){e.commit("SET_TOKEN",t)},set_is_in_game(e,t){e.commit("SET_IS_IN_GAME",t)}},modules:{}}),mo=s("cee4");const fo=Object(c["c"])(r).use(go);mo["a"].defaults.headers={"Access-Control-Allow-Origin":"*"},fo.use(po).mount("#app")},5840:function(e,t,s){"use strict";s("551e")},"5b53":function(e,t,s){},"5f6c":function(e,t,s){},"68ad":function(e,t,s){},"71be":function(e,t,s){e.exports=s.p+"img/award_poop.36f4944b.png"},"774a":function(e,t,s){},"7d17":function(e,t,s){"use strict";s("774a")},"9b41":function(e,t,s){"use strict";s("d349")},"9cbe":function(e,t,s){"use strict";s("5b53")},ca32:function(e,t,s){},ca9b:function(e,t,s){e.exports=s.p+"img/award_win.a5b17534.png"},d349:function(e,t,s){},e6b4:function(e,t,s){"use strict";s("0ac6")},f5f4:function(e,t,s){"use strict";s("349b")}});
//# sourceMappingURL=app.11362559.js.map